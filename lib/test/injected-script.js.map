{"version":3,"file":"injected-script.js","sourceRoot":"","sources":["../../src/test/injected-script.ts"],"names":[],"mappings":"AAAA,0CAA0C;AAC1C,OAAO,EAAE,aAAa,EAAE,eAAe,EAAE,MAAM,aAAa,CAAA;AAE5D,KAAK,UAAU,IAAI;IAClB,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAA;IACpC,MAAM,WAAW,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAA;IAE3C,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAA;IACjC,MAAM,cAAc,GAAG,WAAW,CAAC,eAAe,CAAA;IAClD,8GAA8G;IAC9G,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAA;IACrC,IAAI;QACH,MAAM,eAAe,CAAC,cAAc,CAAC,CAAA;KACrC;YAAS;QACT,cAAc,CAAC,MAAM,EAAE,CAAA;KACvB;IAED,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;IAC9B,MAAM,SAAS,GAAG,IAAI,aAAa,EAAE,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAA;IAEvE,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAA;IAC/B,UAAU,CAAC,SAAS,CAAC,CAAA;AACtB,CAAC;AAED,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;IACpB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;IACpB,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,KAAK,CAAA;IACtC,SAAS,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAA;AACpC,CAAC,CAAC,CAAA","sourcesContent":["/* eslint-disable no-restricted-globals */\nimport { documentToSVG, inlineResources } from '../index.js'\n\nasync function main(): Promise<void> {\n\tconsole.log('Converting DOM to SVG')\n\tconst svgDocument = documentToSVG(document)\n\n\tconsole.log('Inlining resources')\n\tconst svgRootElement = svgDocument.documentElement\n\t// Append to DOM so SVG elements are attached to a window/have defaultView, so window.getComputedStyle() works\n\tdocument.body.prepend(svgRootElement)\n\ttry {\n\t\tawait inlineResources(svgRootElement)\n\t} finally {\n\t\tsvgRootElement.remove()\n\t}\n\n\tconsole.log('Serializing SVG')\n\tconst svgString = new XMLSerializer().serializeToString(svgRootElement)\n\n\tconsole.log('Calling callback')\n\tresolveSVG(svgString)\n}\n\nmain().catch(error => {\n\tconsole.error(error)\n\tconst { message, name, stack } = error\n\trejectSVG({ message, name, stack })\n})\n"]}